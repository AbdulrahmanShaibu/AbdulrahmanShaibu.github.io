<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Maahad School Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-size: 1rem;
        }

        h1 {
            font-size: 2.5rem;
        }


        h1 {
            text-align: center;
            font-size: 2em;
            font-weight: bold;
        }

        h3 {
            border-bottom: 2px solid #0d6efd;
            padding-bottom: 8px;
            margin-bottom: 20px;
        }

        .tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
            overflow-x: auto;
        }

        .tab-button {
            padding: 10px 15px;
            background-color: #e0e0e0;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            white-space: nowrap;
        }

        .tab-button.active {
            background-color: #1d4ed8;
            color: white;
            font-weight: bold;
        }

        .tab-content {
            display: none;
            margin-top: 20px;
        }

        .tab-content.active {
            display: block;
        }

        /* Basic Card Styling */
        .card {
            background: #ffffff;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);

            /* Responsive scaling */
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;

            /* Add a transition for hover effects (optional) */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        /* Optional hover effect for interactivity */
        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.12);
        }

        /* Card Container Grid/Flex Setup */
        .card-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            padding: 20px;
        }

        /* Card inside container - responsive width */
        .card-container .card {
            flex: 1 1 calc(33.333% - 40px);
            /* 3 cards per row with gap */
            min-width: 280px;
        }

        /* Tablet Screens */
        @media (max-width: 768px) {
            .card-container .card {
                flex: 1 1 calc(50% - 40px);
                /* 2 cards per row */
            }

            .card {
                padding: 16px;
            }
        }

        /* Mobile Screens */
        @media (max-width: 480px) {
            .card-container .card {
                flex: 1 1 100%;
                /* 1 card per row */
            }

            .card {
                padding: 14px;
            }
        }


        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        th,
        td {
            padding: 10px;
            border-bottom: 1px solid #ccc;
            text-align: left;
        }

        th {
            background-color: #f0f0f0;
        }

        .item-block {
            margin-bottom: 15px;
            padding: 10px;
            background-color: #f9f9f9;
            border-left: 4px solid #1d4ed8;
            border-radius: 5px;
        }

        input[type="text"],
        input[type="file"] {
            width: 100%;
            padding: 8px;
            margin-top: 4px;
            margin-bottom: 12px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .btn {
            padding: 10px 20px;
            background-color: #1d4ed8;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }

        .btn:hover {
            background-color: #2563eb;
        }

        /* Modal Alert Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
        }

        .modal-content {
            background: white;
            padding: 20px;
            border-radius: 8px;
            width: 90%;
            max-width: 400px;
            margin: 100px auto;
            text-align: center;
        }

        .modal-content p {
            margin-bottom: 20px;
        }
    </style>

    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #ffffff;
            color: #333;
        }

        h1 {
            text-align: center;
            font-size: 2em;
            font-weight: bold;
        }

        .tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
            overflow-x: auto;
        }

        .tab-button {
            padding: 10px 15px;
            background-color: #e0e0e0;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            white-space: nowrap;
        }

        .tab-button.active {
            background-color: #1d4ed8;
            color: white;
            font-weight: bold;
        }

        .tab-content {
            display: none;
            margin-top: 20px;
        }

        .tab-content.active {
            display: block;
        }

        .card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        th,
        td {
            padding: 10px;
            border-bottom: 1px solid #ccc;
            text-align: left;
        }

        th {
            background-color: #f0f0f0;
        }

        .item-block {
            margin-bottom: 15px;
            padding: 10px;
            background-color: #f9f9f9;
            border-left: 4px solid #1d4ed8;
            border-radius: 5px;
        }

        input[type="text"],
        input[type="file"],
        input[type="email"] {
            width: 100%;
            padding: 8px;
            margin-top: 4px;
            margin-bottom: 12px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .btn {
            padding: 10px 20px;
            background-color: #1d4ed8;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }

        .btn:hover {
            background-color: #2563eb;
        }

        /* Alert Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
        }

        .modal-content {
            background: white;
            padding: 20px;
            border-radius: 8px;
            width: 90%;
            max-width: 400px;
            margin: 100px auto;
            text-align: center;
        }

        .modal-content p {
            margin-bottom: 20px;
        }

        /* Pop-up form modal */
        .form-modal-content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            margin: 80px auto;
        }

        .form-modal-content h3 {
            margin-bottom: 20px;
        }

        .form-modal-content .btn-group {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .lms-card {
            padding: 20px;
            border-radius: 10px;
            background-color: #f8f9fa;
            box-shadow: 0 0 10px rgba(0, 123, 255, 0.1);
        }

        .lms-title {
            color: #004080;
            margin-bottom: 20px;
            font-size: 24px;
            font-weight: bold;
        }

        .lms-material {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #fff;
            padding: 15px 20px;
            margin-bottom: 15px;
            border-left: 5px solid #007BFF;
            border-radius: 6px;
            transition: background 0.3s;
        }

        .lms-material:hover {
            background: #f1f9ff;
        }

        .material-info p {
            margin: 4px 0 0;
            color: #555;
            font-size: 14px;
        }

        .lms-button {
            padding: 8px 15px;
            border-radius: 4px;
            text-decoration: none;
            color: white;
            font-weight: bold;
            transition: background 0.3s;
        }

        .lms-button.download {
            background-color: #28a745;
        }

        .lms-button.download:hover {
            background-color: #218838;
        }

        .lms-button.view {
            background-color: #17a2b8;
        }

        .lms-button.view:hover {
            background-color: #138496;
        }
    </style>

</head>

<body>

    <!-- <h1>Maahad School Management System</h1> -->

    <div class="tabs" id="tabs">
        <button class="tab-button active" onclick="showTab('teachers')">Teachers</button>
        <button class="tab-button" onclick="showTab('students')">Student Results</button>
        <button class="tab-button" onclick="showTab('lms')">E-Learning</button>
        <button class="tab-button" onclick="showTab('payments')">Payments</button>
        <button class="tab-button" onclick="showTab('almanac')">Almanac</button>
        <button class="tab-button" onclick="showTab('curriculum')">Curriculum</button>
        <button class="tab-button" onclick="showTab('results')">Results</button>
        <button class="tab-button" onclick="showTab('services')">Services</button>
        <button class="tab-button" onclick="showTab('lessons')">Lessons</button>
        <button class="tab-button" onclick="showTab('videos')">Video Lessons</button>
        <button class="tab-button" onclick="showTab('live')">Live Classes</button>
    </div>

    <!-- Teachers Tab -->
    <div id="teachers" class="tab-content active">
        <div class="card">
            <!-- ðŸ”˜ NEW Button to Open Pop-Up Form -->
            <div
                style="display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; background-color: #f0f4f8; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.1);">
                <h3 style="margin: 0; font-size: 24px; color: #333;">All Teachers</h3>
                <button onclick="openFormModal()"
                    style="padding: 8px 16px; background-color: #007BFF; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">
                    Add New Teacher
                </button>
            </div>

            <!-- Advanced Filters -->
            <div style="display: flex; flex-wrap: wrap; gap: 10px; margin: 20px 0;">
                <select id="filterGender" onchange="applyAdvancedFilters()" style="padding: 8px;">
                    <option value="">All Genders</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Other</option>
                </select>

                <select id="filterQualification" onchange="applyAdvancedFilters()" style="padding: 8px;">
                    <option value="">All Qualifications</option>
                    <option value="Certificate">Certificate</option>
                    <option value="Degree">Degree</option>
                    <option value="Master">Master</option>
                    <option value="PhD">PhD</option>
                </select>

                <select id="filterExperience" onchange="applyAdvancedFilters()" style="padding: 8px;">
                    <option value="">All Experience</option>
                    <option value="1-3">1-3 years</option>
                    <option value="4-7">4-7 years</option>
                    <option value="8+">8+ years</option>
                </select>

                <select id="filterLevel" onchange="applyAdvancedFilters()" style="padding: 8px;">
                    <option value="">Levels</option>
                    <option value="Lower Primary">Lower Primary</option>
                    <option value="Upper Primary">Upper Primary</option>
                    <option value="Secondary">Secondary</option>
                    <option value="Advance">Advance</option>
                </select>
            </div>

            <!-- Search Input -->
            <div style="margin: 20px 0;">
                <input type="text" id="teacherFilter" placeholder="Search by name or subject..."
                    style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px; font-size: 16px;">
            </div>

            <!-- Teacher Profiles Grid -->
            <div
                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 30px;">

                <!-- Teacher Card -->
                <div
                    style="border: 1px solid #e0e0e0; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); overflow: hidden; background-color: #ffffff;">
                    <img src="images/ABDISAALAMI JUMA ALI.png" alt="Ustadh Harun"
                        style="width: 100%; height: 220px; object-fit: cover;">
                    <div style="padding: 16px;">
                        <h3 style="margin: 0; font-size: 20px; color: #2c3e50;">Ustadh Abdisalam Juma</h3>
                        <p style="margin: 4px 0;"><strong>Email:</strong> abdisalam@maahad.com</p>
                        <p style="margin: 4px 0;"><strong>Phone:</strong> +255 711 223 344</p>
                        <p style="margin: 4px 0;"><strong>Subject:</strong> Arabic Grammar</p>
                        <p style="margin: 4px 0;"><strong>Department:</strong> Language Studies</p>
                        <p style="margin: 4px 0;"><strong>Position:</strong> Lecturer</p>
                        <p style="margin: 4px 0;"><strong>Experience:</strong> 10 years</p>
                        <p style="margin: 4px 0;"><strong>Gender:</strong> Male</p>
                        <p style="margin: 4px 0;"><strong>Qualification:</strong> B.A. in Arabic</p>
                        <p style="margin: 4px 0;"><strong>Institution:</strong> University of Medina</p>
                        <p style="margin: 4px 0;"><strong>Address:</strong> Tabata, Dar es Salaam</p>
                    </div>
                </div>

                <div
                    style="border: 1px solid #e0e0e0; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); overflow: hidden; background-color: #ffffff; transition: transform 0.3s;">
                    <img src="images/ASHA ASAA ALI.png" alt="Ustadha Zainab"
                        style="width: 100%; height: 220px; object-fit: cover;">
                    <div style="padding: 16px;">
                        <h3 style="margin: 0; font-size: 20px; color: #2c3e50;">Ustadha Zainab Yusuf</h3>
                        <p style="margin: 4px 0;"><strong>Email:</strong> zainab@maahad.com</p>
                        <p style="margin: 4px 0;"><strong>Phone:</strong> +255 713 456 789</p>
                        <p style="margin: 4px 0;"><strong>Subject:</strong> Qurâ€™an Memorization</p>
                        <p style="margin: 4px 0;"><strong>Department:</strong> Tahfidh</p>
                        <p style="margin: 4px 0;"><strong>Position:</strong> Senior Female Instructor</p>
                        <p style="margin: 4px 0;"><strong>Experience:</strong> 6 years</p>
                        <p style="margin: 4px 0;"><strong>Gender:</strong> Female</p>
                        <p style="margin: 4px 0;"><strong>Qualification:</strong> B.A. Islamic Education</p>
                        <p style="margin: 4px 0;"><strong>Institution:</strong> Al-Azhar University</p>
                        <p style="margin: 4px 0;"><strong>Address:</strong> Mwananyamala, Dar es Salaam</p>
                    </div>
                </div>


                <div
                    style="border: 1px solid #e0e0e0; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); overflow: hidden; background-color: #ffffff; transition: transform 0.3s;">
                    <img src="images/HAFSA RASHID ABDALLAH.png" alt="Ustadha Zainab"
                        style="width: 100%; height: 220px; object-fit: cover;">
                    <div style="padding: 16px;">
                        <h3 style="margin: 0; font-size: 20px; color: #2c3e50;">Ustadha Hafsa Rashid</h3>
                        <p style="margin: 4px 0;"><strong>Email:</strong> hafsa@maahad.com</p>
                        <p style="margin: 4px 0;"><strong>Phone:</strong> +255 713 456 789</p>
                        <p style="margin: 4px 0;"><strong>Subject:</strong> Qurâ€™an Memorization</p>
                        <p style="margin: 4px 0;"><strong>Department:</strong> Tahfidh</p>
                        <p style="margin: 4px 0;"><strong>Position:</strong> Senior Female Instructor</p>
                        <p style="margin: 4px 0;"><strong>Experience:</strong> 8 years</p>
                        <p style="margin: 4px 0;"><strong>Gender:</strong> Female</p>
                        <p style="margin: 4px 0;"><strong>Qualification:</strong> B.A. Islamic Education</p>
                        <p style="margin: 4px 0;"><strong>Institution:</strong> Al-Azhar University</p>
                        <p style="margin: 4px 0;"><strong>Address:</strong> Mwananyamala, Dar es Salaam</p>
                    </div>
                </div>

                <!-- More Teacher Cards -->
                <div
                    style="border: 1px solid #e0e0e0; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); overflow: hidden; background-color: #ffffff;">
                    <img src="images/HABIB HAMAD HAJI.png" alt="Ustadh Harun"
                        style="width: 100%; height: 220px; object-fit: cover;">
                    <div style="padding: 16px;">
                        <h3 style="margin: 0; font-size: 20px; color: #2c3e50;">Ustadh Habib Hamad</h3>
                        <p style="margin: 4px 0;"><strong>Email:</strong> habib@maahad.com</p>
                        <p style="margin: 4px 0;"><strong>Phone:</strong> +255 711 223 344</p>
                        <p style="margin: 4px 0;"><strong>Subject:</strong> Kiswahili </p>
                        <p style="margin: 4px 0;"><strong>Department:</strong> Language Studies</p>
                        <p style="margin: 4px 0;"><strong>Position:</strong> Lecturer</p>
                        <p style="margin: 4px 0;"><strong>Experience:</strong> 10 years</p>
                        <p style="margin: 4px 0;"><strong>Gender:</strong> Male</p>
                        <p style="margin: 4px 0;"><strong>Qualification:</strong> B.A. in Kiswahili</p>
                        <p style="margin: 4px 0;"><strong>Institution:</strong> University of Medina</p>
                        <p style="margin: 4px 0;"><strong>Address:</strong> Tabata, Dar es Salaam</p>
                    </div>
                </div>
                <div
                    style="border: 1px solid #e0e0e0; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); overflow: hidden; background-color: #ffffff;">
                    <img src="images/ABDI FADHIL ALI.png" alt="Ustadh Harun"
                        style="width: 100%; height: 220px; object-fit: cover;">
                    <div style="padding: 16px;">
                        <h3 style="margin: 0; font-size: 20px; color: #2c3e50;">Ustadh Abdi Fadhil</h3>
                        <p style="margin: 4px 0;"><strong>Email:</strong> abdi@maahad.com</p>
                        <p style="margin: 4px 0;"><strong>Phone:</strong> +255 711 223 344</p>
                        <p style="margin: 4px 0;"><strong>Subject:</strong> Mathematics</p>
                        <p style="margin: 4px 0;"><strong>Department:</strong> Language Studies</p>
                        <p style="margin: 4px 0;"><strong>Position:</strong> Lecturer</p>
                        <p style="margin: 4px 0;"><strong>Experience:</strong> 10 years</p>
                        <p style="margin: 4px 0;"><strong>Gender:</strong> Male</p>
                        <p style="margin: 4px 0;"><strong>Qualification:</strong> M.A. in Mathematics</p>
                        <p style="margin: 4px 0;"><strong>Institution:</strong> University of Medina</p>
                        <p style="margin: 4px 0;"><strong>Address:</strong> Tabata, Dar es Salaam</p>
                    </div>
                </div>

                <div
                    style="border: 1px solid #e0e0e0; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); overflow: hidden; background-color: #ffffff; transition: transform 0.3s;">
                    <img src="images/HAWA KHALID ENZI.png" alt="Ustadha Zainab"
                        style="width: 100%; height: 220px; object-fit: cover;">
                    <div style="padding: 16px;">
                        <h3 style="margin: 0; font-size: 20px; color: #2c3e50;">Hawa Khalid</h3>
                        <p style="margin: 4px 0;"><strong>Email:</strong> hawakhalid@maahad.com</p>
                        <p style="margin: 4px 0;"><strong>Phone:</strong> +255 713 456 789</p>
                        <p style="margin: 4px 0;"><strong>Subject:</strong> Qurâ€™an Memorization</p>
                        <p style="margin: 4px 0;"><strong>Department:</strong> Tahfidh</p>
                        <p style="margin: 4px 0;"><strong>Position:</strong> Senior Female Instructor</p>
                        <p style="margin: 4px 0;"><strong>Experience:</strong> 6 years</p>
                        <p style="margin: 4px 0;"><strong>Gender:</strong> Female</p>
                        <p style="margin: 4px 0;"><strong>Qualification:</strong> B.A. Islamic Education</p>
                        <p style="margin: 4px 0;"><strong>Institution:</strong> Al-Azhar University</p>
                        <p style="margin: 4px 0;"><strong>Address:</strong> Mwananyamala, Dar es Salaam</p>
                    </div>
                </div>

                <div
                    style="border: 1px solid #e0e0e0; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); overflow: hidden; background-color: #ffffff; transition: transform 0.3s;">
                    <img src="images/BIUBWA HAROUB MBAROUK.png" alt="Ustadha Zainab"
                        style="width: 100%; height: 220px; object-fit: cover;">
                    <div style="padding: 16px;">
                        <h3 style="margin: 0; font-size: 20px; color: #2c3e50;">Ustadha Biubwa Haroub</h3>
                        <p style="margin: 4px 0;"><strong>Email:</strong> biubwa@maahad.com</p>
                        <p style="margin: 4px 0;"><strong>Phone:</strong> +255 713 456 789</p>
                        <p style="margin: 4px 0;"><strong>Subject:</strong> English</p>
                        <p style="margin: 4px 0;"><strong>Department:</strong> Language</p>
                        <p style="margin: 4px 0;"><strong>Position:</strong> Senior Female Instructor</p>
                        <p style="margin: 4px 0;"><strong>Experience:</strong> 5 years</p>
                        <p style="margin: 4px 0;"><strong>Gender:</strong> Female</p>
                        <p style="margin: 4px 0;"><strong>Qualification:</strong> B.A. English Education</p>
                        <p style="margin: 4px 0;"><strong>Institution:</strong> SUZA University</p>
                        <p style="margin: 4px 0;"><strong>Address:</strong> Mwananyamala, Dar es Salaam</p>
                    </div>
                </div>
                <style>
                    .teacher-card {
                        border: 1px solid #e0e0e0;
                        border-radius: 12px;
                        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                        overflow: hidden;
                        background-color: #fff;
                        transition: transform 0.3s;
                    }

                    .teacher-card img {
                        width: 100%;
                        height: 220px;
                        object-fit: cover;
                    }

                    .teacher-card .card-body {
                        padding: 16px;
                    }

                    .teacher-card h3 {
                        margin: 0;
                        font-size: 20px;
                        color: #2c3e50;
                    }

                    .teacher-card p {
                        margin: 4px 0;
                        font-size: 14px;
                    }
                </style>
                <!-- Add more teacher cards here -->

            </div>


            <!-- Modal Alert -->
            <div class="modal" id="alertModal">
                <div class="modal-content">
                    <p id="alertMessage"></p>
                    <button class="btn" onclick="closeModal()">OK</button>
                </div>
            </div>

            <!-- Pop-Up Form Modal -->
            <div class="modal" id="formModal">
                <div class="form-modal-content">
                    <input type="text" id="formName" placeholder="Full Name" required />
                    <input type="email" id="formEmail" placeholder="Email Address" required />
                    <input type="tel" id="formPhone" placeholder="Phone Number" required />
                    <input type="date" id="formDOB" placeholder="Date of Birth" required />

                    <input type="text" id="formSubject" placeholder="Teaching Subject" required />
                    <input type="text" id="formPosition" placeholder="Position" required />
                    <input type="text" id="formEmployeeID" placeholder="Employee ID / Staff Number" required />
                    <input type="text" id="formDepartment" placeholder="Department" required />

                    <input type="text" id="formQualification" placeholder="Highest Qualification" required />
                    <input type="text" id="formInstitution" placeholder="Graduated Institution" required />
                    <input type="number" id="formExperience" placeholder="Years of Teaching Experience" required />

                    <input type="text" id="formAddress" placeholder="Residential Address" required />
                    <select id="formGender" required>
                        <option value="">Select Gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                    </select>

                    <label for="formImage">Upload Profile Image:</label>
                    <input type="file" id="formImage" accept="image/*" required />

                    <div class="btn-group">
                        <button class="btn" onclick="submitForm()">Submit</button>
                        <button class="btn" onclick="closeFormModal()">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function applyAdvancedFilters() {
            const nameFilter = document.getElementById("teacherFilter").value.toLowerCase();
            const gender = document.getElementById("filterGender").value.toLowerCase();
            const qualification = document.getElementById("filterQualification").value.toLowerCase();
            const experienceRange = document.getElementById("filterExperience").value;

            const cards = document.querySelectorAll("#teachers .card > div > div");

            cards.forEach(card => {
                const name = card.querySelector("h3")?.textContent.toLowerCase() || "";
                const subject = card.querySelector("p:nth-of-type(3)")?.textContent.toLowerCase() || "";
                const cardGender = card.querySelector("p:nth-of-type(7)")?.textContent.toLowerCase().replace("gender: ", "");
                const qual = card.querySelector("p:nth-of-type(8)")?.textContent.toLowerCase();
                const expText = card.querySelector("p:nth-of-type(6)")?.textContent || "";
                const yearsMatch = expText.match(/(\d+)/);
                const years = yearsMatch ? parseInt(yearsMatch[1]) : 0;

                let experienceValid = true;
                if (experienceRange === "1-3") experienceValid = years >= 1 && years <= 3;
                else if (experienceRange === "4-7") experienceValid = years >= 4 && years <= 7;
                else if (experienceRange === "8+") experienceValid = years >= 8;

                const match =
                    name.includes(nameFilter) &&
                    (gender === "" || cardGender === gender) &&
                    (qualification === "" || qual.includes(qualification)) &&
                    experienceValid;

                card.style.display = match ? "" : "none";
            });
        }

        function showAlert(message) {
            document.getElementById("alertMessage").innerText = message;
            document.getElementById("alertModal").style.display = "block";
        }

        function closeModal() {
            document.getElementById("alertModal").style.display = "none";
        }

        function openFormModal() {
            document.getElementById("formModal").style.display = "block";
        }

        function closeFormModal() {
            document.getElementById("formModal").style.display = "none";
        }

        function submitForm() {
            const name = document.getElementById("formName").value;
            const email = document.getElementById("formEmail").value;
            const phone = document.getElementById("formPhone").value;

            if (!name || !email || !phone) {
                alert("Please fill in all required fields.");
                return;
            }

            closeFormModal();
            showAlert("Form submitted successfully for " + name + ".");
        }

        document.getElementById("teacherFilter").addEventListener("keyup", applyAdvancedFilters);
    </script>


    <!-- Student Marks Tab -->
    <!-- HTML Section: UI Layout -->
    <style>
        .green {
            color: green;
            font-weight: bold;
        }

        .orange {
            color: orange;
            font-weight: bold;
        }

        .red {
            color: red;
            font-weight: bold;
        }

        .summary-card {
            background: #f9f9f9;
            padding: 10px;
            margin: 15px 0;
            border-radius: 8px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        }

        .summary-card h4 {
            margin: 5px 0;
        }
    </style>
    </head>

    <body>

        <!-- Students Marks Tab -->
        <style>
            .green {
                color: green;
            }

            .orange {
                color: orange;
            }

            .red {
                color: red;
            }

            .custom-table th,
            .custom-table td {
                padding: 10px;
                text-align: left;
            }

            .summary-card {
                border: 1px solid #ccc;
                padding: 15px;
                margin-top: 20px;
                border-radius: 8px;
                background-color: #f9f9f9;
            }
        </style>
        </head>

        <body>

            <!-- Updated Students Marks System -->
            <div id="students" class="tab-content">
                <div class="card">
                    <hr style="color: #007BFF;">
                    <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
                        <input type="text" id="searchInput" placeholder="Search name..."
                            style="padding: 8px; border-radius: 5px; border: 1px solid #ccc;">
                        <select id="termFilter" style="padding: 8px;">
                            <option value="">All Terms</option>
                            <option value="Term 1">Term 1</option>
                            <option value="Term 2">Term 2</option>
                        </select>
                        <select id="subjectFilter" style="padding: 8px;">
                            <option value="">All Subjects</option>
                            <option value="Quran">Quran</option>
                            <option value="Arabic">Arabic</option>
                            <option value="Tajweed">Tajweed</option>
                            <option value="Hadith">Hadith</option>
                            <option value="Aqidah">Aqidah</option>
                            <option value="Fiqh">Fiqh</option>
                            <option value="History">History</option>
                        </select>
                        <select id="classFilter" style="padding: 8px;">
                            <option value="">All Classes</option>
                            <option value="STD 01">STD 01</option>
                            <option value="STD 02">STD 02</option>
                            <option value="STD 03">STD 03</option>
                            <option value="STD 04">STD 04</option>
                            <option value="STD 05">STD 05</option>
                            <option value="STD 06">STD 06</option>
                            <option value="STD 07">STD 07</option>
                            <option value="F I">F I</option>
                            <option value="F II">F II</option>
                            <option value="F III">F III</option>
                            <option value="F IV">F IV</option>
                            <option value="Advance">Advance</option>
                        </select>
                        <select id="genderFilter" style="padding: 8px;">
                            <option value="">Gender</option>
                            <option value="Boys">Boys</option>
                            <option value="Girls">Girls</option>
                        </select>
                        <select id="yearFilter" style="padding: 8px;">
                            <option value="">Academic Year</option>
                            <option value="2025">2025</option>
                            <option value="2026">2026</option>
                        </select>
                        <button onclick="exportToPDF()"
                            style="padding: 8px 15px; background-color: #004080; color: white; border: none; border-radius: 4px;">Export
                            PDF</button>
                        <button onclick="exportToExcel()"
                            style="padding: 8px 15px; background-color: #4CAF50; color: white; border: none; border-radius: 4px;">Export
                            Excel</button>
                        <button onclick="openAddForm()"
                            style="padding: 8px 15px; background-color: #007BFF; color: white; border: none; border-radius: 4px;">Add
                            Student Results</button>
                    </div>

                    <div style="width: 100%; overflow-x: auto; margin-bottom: 20px;">
                        <table id="studentTable"
                            style="width: 100%; min-width: 800px; border-collapse: collapse; font-size: 1rem;">
                            <thead>
                                <tr>
                                    <th style="text-align: left; padding: 12px 10px; border: 1px solid #ddd;">ID</th>
                                    <th style="text-align: left; padding: 12px 10px; border: 1px solid #ddd;">Name</th>
                                    <th style="text-align: left; padding: 12px 10px; border: 1px solid #ddd;">Class</th>
                                    <th style="text-align: left; padding: 12px 10px; border: 1px solid #ddd;">Gender
                                    </th>
                                    <th style="text-align: left; padding: 12px 10px; border: 1px solid #ddd;">Year</th>
                                    <th style="text-align: left; padding: 12px 10px; border: 1px solid #ddd;">Subject
                                    </th>
                                    <th style="text-align: left; padding: 12px 10px; border: 1px solid #ddd;">Term</th>
                                    <th style="text-align: left; padding: 12px 10px; border: 1px solid #ddd;">Marks</th>
                                    <th style="text-align: left; padding: 12px 10px; border: 1px solid #ddd;">Actions
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="studentBody"></tbody>
                        </table>
                    </div>


                    <div id="summaryContainer"></div>

                    <!-- Modal -->
                    <div id="addFormModal"
                        style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.5); justify-content:center; align-items:center;">
                        <div style="background:white; padding:20px; border-radius:6px; width:300px; position:relative;">
                            <h3 style="margin-top:0;" id="modalTitle">Add Student Results</h3>
                            <form id="addMarksForm">
                                <input type="text" id="studentId" placeholder="Student ID" required
                                    style="width:100%; padding:8px; margin-bottom:10px;">
                                <input type="text" id="studentName" placeholder="Student Name" required
                                    style="width:100%; padding:8px; margin-bottom:10px;">
                                <input type="text" id="studentClass" placeholder="Class" required
                                    style="width:100%; padding:8px; margin-bottom:10px;">
                                <select id="studentGender" required
                                    style="width:100%; padding:8px; margin-bottom:10px;">
                                    <option value="" disabled selected>Gender</option>
                                    <option value="Boys">Boys</option>
                                    <option value="Girls">Girls</option>
                                </select>
                                <input type="number" id="studentYear" placeholder="Academic Year" required
                                    style="width:100%; padding:8px; margin-bottom:10px;">
                                <select id="subject" required style="width:100%; padding:8px; margin-bottom:10px;">
                                    <option value="" disabled selected>Select Subject</option>
                                    <option value="Quran">Quran</option>
                                    <option value="Arabic">Arabic</option>
                                    <option value="Tajweed">Tajweed</option>
                                    <option value="Hadith">Hadith</option>
                                    <option value="Aqidah">Aqidah</option>
                                    <option value="Fiqh">Fiqh</option>
                                    <option value="History">History</option>
                                </select>
                                <select id="term" required style="width:100%; padding:8px; margin-bottom:10px;">
                                    <option value="" disabled selected>Select Term</option>
                                    <option value="Term 1">Term 1</option>
                                    <option value="Term 2">Term 2</option>
                                </select>
                                <input type="number" id="marks" placeholder="Marks" min="0" max="100" required
                                    style="width:100%; padding:8px; margin-bottom:10px;">
                                <div style="display:flex; justify-content:flex-end; gap:10px;">
                                    <button type="button" onclick="closeAddForm()"
                                        style="padding:6px 12px; background:#ccc; border:none; border-radius:4px;">Cancel</button>
                                    <button type="submit"
                                        style="padding:6px 12px; background:#28a745; color:white; border:none; border-radius:4px;">Save</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Add Chart.js in <head> or before </body> -->
            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
            <script>
                let rawData = [
                    { id: "ST001", name: "Amina Yusuf", class: "STD 01", gender: "Girls", year: "2025", subject: "Quran", term: "Term 1", marks: 95 },
                    { id: "ST001", name: "Amina Yusuf", class: "STD 01", gender: "Girls", year: "2025", subject: "Arabic", term: "Term 1", marks: 88 },
                    { id: "ST002", name: "Bilal Ahmed", class: "STD 02", gender: "Boys", year: "2025", subject: "Hadith", term: "Term 1", marks: 88 }
                ];

                let editIndex = null;

                function getColorClass(marks) {
                    marks = parseFloat(marks);
                    if (marks >= 90) return "green";
                    if (marks >= 70) return "orange";
                    return "red";
                }

                function renderTable(data) {
                    const tbody = document.getElementById("studentBody");
                    tbody.innerHTML = "";
                    data.forEach((d, index) => {
                        const tr = document.createElement("tr");
                        tr.innerHTML = `
            <td style="padding: 10px; border: 1px solid #ddd;">${d.id}</td>
            <td style="padding: 10px; border: 1px solid #ddd;">${d.name}</td>
            <td style="padding: 10px; border: 1px solid #ddd;">${d.class}</td>
            <td style="padding: 10px; border: 1px solid #ddd;">${d.gender}</td>
            <td style="padding: 10px; border: 1px solid #ddd;">${d.year}</td>
            <td style="padding: 10px; border: 1px solid #ddd;">${d.subject}</td>
            <td style="padding: 10px; border: 1px solid #ddd;">${d.term}</td>
            <td style="padding: 10px; border: 1px solid #ddd;" class="${getColorClass(d.marks)}">${d.marks}</td>
            <td style="padding: 10px; border: 1px solid #ddd;">
              <button onclick="editEntry(${index})" style="background-color: #2196F3; color: white; border: none; padding: 6px 12px; border-radius: 5px; margin-right: 5px; cursor: pointer;">Edit</button>
              <button onclick="deleteEntry(${index})" style="background-color: #f44336; color: white; border: none; padding: 6px 12px; border-radius: 5px; cursor: pointer;">Delete</button>
            </td>
        `;
                        tbody.appendChild(tr);
                    });
                }


                function calculateSummary() {
                    const summaryContainer = document.getElementById("summaryContainer");
                    summaryContainer.innerHTML = "";

                    // Group by student ID
                    const studentMap = {};
                    rawData.forEach(entry => {
                        if (!studentMap[entry.id]) {
                            studentMap[entry.id] = {
                                name: entry.name,
                                class: entry.class,
                                gender: entry.gender,
                                year: entry.year,
                                totalMarks: 0,
                                subjects: [],
                            };
                        }
                        studentMap[entry.id].totalMarks += entry.marks;
                        studentMap[entry.id].subjects.push({ subject: entry.subject, marks: entry.marks });
                    });

                    // Convert to array and calculate GPA
                    const studentSummaries = Object.entries(studentMap).map(([id, info]) => {
                        const average = info.totalMarks / info.subjects.length;
                        const gpa = calculateGPA(average);
                        return { id, ...info, average, gpa };
                    });

                    // Sort for ranking
                    studentSummaries.sort((a, b) => b.average - a.average);

                    // Add rankings and display
                    const summaryTable = document.createElement("table");
                    summaryTable.style.width = "100%";
                    summaryTable.style.marginTop = "20px";
                    summaryTable.classList.add("custom-table");
                    summaryTable.innerHTML = `
        <thead>
            <tr><th>Rank</th><th>Name</th><th>Class</th><th>Average Marks</th><th>GPA</th><th>Performance on Chart</th></tr>
        </thead>
        <tbody>
            ${studentSummaries.map((s, i) => `
                <tr  style="background-color: white;">
                    <td style="padding: 10px; border: 1px solid #ddd; background-color: white;">${i + 1}</td>
                    <td style="padding: 10px; border: 1px solid #ddd; background-color: white;">${s.name}</td>
                    <td style="padding: 10px; border: 1px solid #ddd; background-color: white;">${s.class}</td>
                    <td style="padding: 10px; border: 1px solid #ddd; background-color: white;">${s.average.toFixed(2)}</td>
                    <td style="padding: 10px; border: 1px solid #ddd; background-color: white;">${s.gpa}</td>
                    <td><canvas id="chart-${s.id}" width="150" height="80"></canvas></td>
                </tr>
            `).join("")}
        </tbody>
    `;
                    summaryContainer.appendChild(summaryTable);

                    // Draw charts
                    studentSummaries.forEach(s => {
                        const ctx = document.getElementById(`chart-${s.id}`).getContext("2d");
                        new Chart(ctx, {
                            type: 'bar',
                            data: {
                                labels: s.subjects.map(sub => sub.subject),
                                datasets: [{
                                    label: 'Marks',
                                    data: s.subjects.map(sub => sub.marks),
                                    backgroundColor: '#007BFF'
                                }]
                            },
                            options: {
                                responsive: false,
                                plugins: { legend: { display: false } },
                                scales: { y: { beginAtZero: true, max: 100 } }
                            }
                        });
                    });
                }

                function calculateGPA(avg) {
                    if (avg >= 90) return "A+ (4.0)";
                    if (avg >= 80) return "A (4.0)";
                    if (avg >= 70) return "B+ (3.5)";
                    if (avg >= 60) return "B (3.0)";
                    if (avg >= 50) return "C (2.0)";
                    return "F (0.0)";
                }

                function filterAndRender() {
                    const search = document.getElementById("searchInput").value.toLowerCase();
                    const term = document.getElementById("termFilter").value;
                    const subject = document.getElementById("subjectFilter").value;
                    const gender = document.getElementById("genderFilter").value;
                    const year = document.getElementById("yearFilter").value;
                    const classFilter = document.getElementById("classFilter").value;

                    const filtered = rawData.filter(item =>
                        (!search || item.name.toLowerCase().includes(search)) &&
                        (!term || item.term === term) &&
                        (!subject || item.subject === subject) &&
                        (!gender || item.gender === gender) &&
                        (!year || item.year === year) &&
                        (!classFilter || item.class === classFilter)
                    );
                    renderTable(filtered);
                    calculateSummary(); // âœ… New
                }

                function openAddForm() {
                    document.getElementById("addFormModal").style.display = "flex";
                    document.getElementById("addMarksForm").reset();
                    editIndex = null;
                }

                function closeAddForm() {
                    document.getElementById("addFormModal").style.display = "none";
                }

                document.getElementById("addMarksForm").addEventListener("submit", function (e) {
                    e.preventDefault();
                    const student = {
                        id: studentId.value,
                        name: studentName.value,
                        class: studentClass.value,
                        gender: studentGender.value,
                        year: studentYear.value,
                        subject: subject.value,
                        term: term.value,
                        marks: parseFloat(marks.value)
                    };

                    if (editIndex !== null) {
                        rawData[editIndex] = student;
                    } else {
                        rawData.push(student);
                    }
                    closeAddForm();
                    filterAndRender();
                });

                function editEntry(index) {
                    const d = rawData[index];
                    studentId.value = d.id;
                    studentName.value = d.name;
                    studentClass.value = d.class;
                    studentGender.value = d.gender;
                    studentYear.value = d.year;
                    subject.value = d.subject;
                    term.value = d.term;
                    marks.value = d.marks;
                    editIndex = index;
                    openAddForm();
                }

                function deleteEntry(index) {
                    if (confirm("Are you sure you want to delete this entry?")) {
                        rawData.splice(index, 1);
                        filterAndRender();
                    }
                }

                // Hook filters
                ["searchInput", "termFilter", "subjectFilter", "genderFilter", "yearFilter", "classFilter"].forEach(id => {
                    document.getElementById(id).addEventListener("change", filterAndRender);
                });

                window.onload = () => {
                    filterAndRender();
                };
            </script>




            <!-- Dependencies -->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js">
            </script>


            <!-- LMS Tab -->
            <div id="lms" class="tab-content">
                <div class="card lms-card">
                    <h3 class="lms-title">ðŸ“š Lesson Materials</h3>

                    <!-- Category Tabs -->
                    <div class="category-tabs">
                        <button onclick="filterCategory('all')" class="active"
                            style="background-color: #17a2b8; color: white; border: none; padding: 10px 20px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); cursor: pointer; font-size: 16px; transition: 0.3s ease;">
                            All
                        </button>
                        <button onclick="filterCategory('fiqh')"
                            style="background-color: #17a2b8; color: white; border: none; padding: 10px 20px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); cursor: pointer; font-size: 16px; transition: 0.3s ease;">
                            Fiqh
                        </button>
                        <button onclick="filterCategory('arabic')"
                            style="background-color: #17a2b8; color: white; border: none; padding: 10px 20px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); cursor: pointer; font-size: 16px; transition: 0.3s ease;">
                            Arabic
                        </button>
                        <button onclick="filterCategory('hadith')"
                            style="background-color: #17a2b8; color: white; border: none; padding: 10px 20px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); cursor: pointer; font-size: 16px; transition: 0.3s ease;">
                            Hadith
                        </button>
                    </div>

                    <!-- Materials List -->
                    <div id="materialsList">
                        <div class="lms-material" data-category="fiqh">
                            <div class="material-info">
                                <strong>Fiqh Basics</strong>
                                <p>Comprehensive PDF covering foundational principles of Fiqh.</p>
                            </div>
                            <a href="#" class="lms-button download">â¬‡ï¸ Download PDF</a>
                        </div>

                        <div class="lms-material" data-category="arabic">
                            <div class="material-info">
                                <strong>Arabic Grammar 101</strong>
                                <p>Structured notes for beginner Arabic learners.</p>
                            </div>
                            <a href="#" class="lms-button view">ðŸ“ View Notes</a>
                        </div>

                        <div class="lms-material" data-category="hadith">
                            <div class="material-info">
                                <strong>Hadith Compilation</strong>
                                <p>Selected Hadiths organized thematically for learning.</p>
                            </div>
                            <a href="#" class="lms-button download">ðŸ“– Download PDF</a>
                        </div>
                    </div>

                    <!-- Trigger -->
                    <h4 onclick="openMaterialForm()"
                        style="cursor: pointer; color: #0066cc; text-align: center; margin-top: 20px;">âž• Add New
                        Material</h4>

                    <!-- Popup Form Modal -->
                    <div id="materialModal"
                        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); z-index: 1000; justify-content: center; align-items: center;">
                        <div
                            style="background: #fff; padding: 25px; border-radius: 10px; width: 90%; max-width: 500px; position: relative;">
                            <span onclick="closeMaterialForm()"
                                style="position: absolute; top: 10px; right: 15px; font-size: 20px; cursor: pointer;">âœ–</span>

                            <h2 style="text-align: center; margin-bottom: 20px; color: #333;">ðŸ“š Add New Material</h2>
                            <form id="materialForm" onsubmit="addMaterial(event)"
                                style="font-family: Arial, sans-serif;">
                                <input type="text" id="materialTitle" placeholder="Title" required
                                    style="width: 100%; padding: 10px; margin-bottom: 15px; border: 1px solid #ccc; border-radius: 6px; font-size: 14px;" />

                                <textarea id="materialDescription" placeholder="Description" required
                                    style="width: 100%; padding: 10px; margin-bottom: 15px; border: 1px solid #ccc; border-radius: 6px; font-size: 14px; resize: vertical;"></textarea>

                                <select id="materialCategory" required
                                    style="width: 100%; padding: 10px; margin-bottom: 15px; border: 1px solid #ccc; border-radius: 6px; font-size: 14px;">
                                    <option value="">Select Category</option>
                                    <option value="fiqh">Fiqh</option>
                                    <option value="arabic">Arabic</option>
                                    <option value="hadith">Hadith</option>
                                </select>

                                <input type="url" id="materialLink" placeholder="Material Link (URL)" required
                                    style="width: 100%; padding: 10px; margin-bottom: 20px; border: 1px solid #ccc; border-radius: 6px; font-size: 14px;" />

                                <!-- Add this in your <head> if not already included -->
                                <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />

                                <!-- Styled Button with Icon -->
                                <button type="submit"
                                    style="width: 100%; padding: 12px; background-color: #0066cc; color: white; border: none; border-radius: 6px; font-size: 16px; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px;">
                                    <span class="material-icons" style="font-size: 20px;">library_add</span>
                                    <span>Add Material</span>
                                </button>

                            </form>
                        </div>
                    </div>

                    <!-- JavaScript -->
                    <script>
                        function openMaterialForm() {
                            document.getElementById("materialModal").style.display = "flex";
                        }

                        function closeMaterialForm() {
                            document.getElementById("materialModal").style.display = "none";
                        }

                        function addMaterial(event) {
                            event.preventDefault();
                            // Your form handling logic here
                            alert("Material added!");
                            closeMaterialForm();
                        }
                    </script>

                </div>
            </div>

            <script>
                function filterCategory(category) {
                    const materials = document.querySelectorAll(".lms-material");
                    const buttons = document.querySelectorAll(".category-tabs button");
                    buttons.forEach(btn => btn.classList.remove("active"));
                    event.target.classList.add("active");

                    materials.forEach(mat => {
                        if (category === 'all' || mat.dataset.category === category) {
                            mat.style.display = "block";
                        } else {
                            mat.style.display = "none";
                        }
                    });
                }

                function addMaterial(event) {
                    event.preventDefault();

                    const title = document.getElementById("materialTitle").value;
                    const desc = document.getElementById("materialDescription").value;
                    const category = document.getElementById("materialCategory").value;
                    const link = document.getElementById("materialLink").value;

                    const newMaterial = document.createElement("div");
                    newMaterial.className = "lms-material";
                    newMaterial.setAttribute("data-category", category);
                    newMaterial.innerHTML = `
    <div class="material-info">
      <strong>${title}</strong>
      <p>${desc}</p>
    </div>
    <a href="${link}" class="lms-button download" target="_blank">ðŸ”— Open Material</a>
  `;

                    document.getElementById("materialsList").appendChild(newMaterial);
                    document.getElementById("materialForm").reset();
                }
            </script>

            <!-- Payment Tab -->
            <div id="payments" class="tab-content">
                <div class="card p-4 shadow-sm">
                    <!-- Header -->
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h3>ðŸ’° Student Payment Management</h3>
                        <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addPaymentModal">âž• Add
                            Payment</button>
                    </div>

                    <!-- Filters -->
                    <div class="row g-2 mb-3">
                        <div class="col-md-3">
                            <input type="text" class="form-control" placeholder="ðŸ” Search by Student Name...">
                        </div>
                        <div class="col-md-3">
                            <select class="form-select">
                                <option selected>ðŸ“… Filter by Month</option>
                                <option>May 2025</option>
                                <option>April 2025</option>
                                <option>March 2025</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <select class="form-select">
                                <option selected>ðŸ§¾ Payment Status</option>
                                <option>Paid</option>
                                <option>Unpaid</option>
                                <option>Partial</option>
                            </select>
                        </div>
                        <div class="col-md-3 d-flex gap-2">
                            <button class="btn btn-outline-secondary w-50">ðŸ“¤ Export CSV</button>
                            <button class="btn btn-outline-dark w-50">ðŸ“‘ Generate Report</button>
                        </div>
                    </div>

                    <!-- Table -->
                    <div class="table-responsive">
                        <table class="table table-bordered table-hover align-middle text-center">
                            <thead class="table-light">
                                <tr>
                                    <th>Student</th>
                                    <th>Month</th>
                                    <th>Amount</th>
                                    <th>Paid</th>
                                    <th>Status</th>
                                    <th>Payment Method</th>
                                    <th>Transaction ID</th>
                                    <th>Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Amina Said</td>
                                    <td>May 2025</td>
                                    <td>sh. 30,000</td>
                                    <td>sh. 30,000</td>
                                    <td><span class="badge bg-success">Paid</span></td>
                                    <td>M-Pesa</td>
                                    <td>#MP123456</td>
                                    <td>2025-05-10</td>
                                    <td>
                                        <button class="btn btn-sm btn-info">View</button>
                                        <button class="btn btn-sm btn-outline-secondary">Receipt</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Fatma Noor</td>
                                    <td>May 2025</td>
                                    <td>sh. 30,000</td>
                                    <td>sh. 10,000</td>
                                    <td><span class="badge bg-warning text-dark">Partial</span></td>
                                    <td>Tigo-Pesa</td>
                                    <td>#TP998877</td>
                                    <td>2025-05-12</td>
                                    <td>
                                        <button class="btn btn-sm btn-primary">Edit</button>
                                        <button class="btn btn-sm btn-outline-danger">Send Reminder</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Hussein Ali</td>
                                    <td>May 2025</td>
                                    <td>sh. 50,000</td>
                                    <td>sh. 0</td>
                                    <td><span class="badge bg-danger">Unpaid</span></td>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-danger">Send Reminder</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Summary -->
                    <div class="row mt-4">
                        <div class="col-md-6">
                            <p><strong>Total Expected:</strong> sh. 110,000</p>
                            <p><strong>Total Paid:</strong> sh. 40,000</p>
                            <p><strong>Outstanding:</strong> sh. 70,000</p>
                        </div>
                        <div class="col-md-6 text-end">
                            <nav aria-label="Page navigation">
                                <ul class="pagination justify-content-end">
                                    <li class="page-item disabled"><a class="page-link">Previous</a></li>
                                    <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                                    <li class="page-item"><a class="page-link" href="#">Next</a></li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Add Payment Modal -->
            <div class="modal fade" id="addPaymentModal" tabindex="-1" aria-labelledby="addPaymentLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content shadow-sm">
                        <div class="modal-header bg-primary text-white">
                            <h5 class="modal-title" id="addPaymentLabel">âž• Add Student Payment</h5>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                        </div>
                        <form id="paymentForm">
                            <div class="modal-body">
                                <div class="row g-3">

                                    <!-- Student Selector -->
                                    <div class="col-md-6">
                                        <label for="studentSelect" class="form-label">ðŸ‘¨â€ðŸŽ“ Student</label>
                                        <select class="form-select" id="studentSelect" required>
                                            <option selected disabled>Select a student</option>
                                            <option value="amina">Amina Said</option>
                                            <option value="fatma">Fatma Noor</option>
                                            <option value="hussein">Hussein Ali</option>
                                        </select>
                                    </div>

                                    <!-- Month -->
                                    <div class="col-md-6">
                                        <label for="monthSelect" class="form-label">ðŸ“… Month</label>
                                        <select class="form-select" id="monthSelect" required>
                                            <option selected disabled>Select month</option>
                                            <option>May 2025</option>
                                            <option>April 2025</option>
                                            <option>March 2025</option>
                                        </select>
                                    </div>

                                    <!-- Total Expected -->
                                    <div class="col-md-6">
                                        <label for="totalAmount" class="form-label">ðŸ’µ Total Expected</label>
                                        <input type="number" class="form-control" id="totalAmount"
                                            placeholder="e.g. 30,000" required readonly>
                                    </div>

                                    <!-- Amount Paid -->
                                    <div class="col-md-6">
                                        <label for="paidAmount" class="form-label">âœ… Amount Paid</label>
                                        <input type="number" class="form-control" id="paidAmount"
                                            placeholder="Enter paid amount" required>
                                    </div>

                                    <!-- Balance -->
                                    <div class="col-md-6">
                                        <label for="balance" class="form-label">ðŸ’³ Remaining Balance</label>
                                        <input type="text" class="form-control" id="balance" readonly>
                                    </div>

                                    <!-- Payment Method -->
                                    <div class="col-md-6">
                                        <label for="paymentMethod" class="form-label">ðŸ’¼ Payment Method</label>
                                        <select class="form-select" id="paymentMethod" required>
                                            <option selected disabled>Select payment method</option>
                                            <option>M-Pesa</option>
                                            <option>Tigo-Pesa</option>
                                            <option>Cash</option>
                                            <option>Bank Transfer</option>
                                        </select>
                                    </div>

                                    <!-- Optional Transaction ID -->
                                    <div class="col-md-12" id="transactionIdGroup" style="display: none;">
                                        <label for="transactionId" class="form-label">ðŸ”¢ Transaction ID</label>
                                        <input type="text" class="form-control" id="transactionId"
                                            placeholder="Enter transaction ID (optional)">
                                    </div>

                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="submit" class="btn btn-success">ðŸ’¾ Save Payment</button>
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">âŒ
                                    Cancel</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <script>
                // Simulate expected amounts for demo purposes
                const expectedAmounts = {
                    amina: 30000,
                    fatma: 30000,
                    hussein: 50000,
                };

                const studentSelect = document.getElementById("studentSelect");
                const totalAmount = document.getElementById("totalAmount");
                const paidAmount = document.getElementById("paidAmount");
                const balance = document.getElementById("balance");
                const paymentMethod = document.getElementById("paymentMethod");
                const transactionIdGroup = document.getElementById("transactionIdGroup");

                studentSelect.addEventListener("change", () => {
                    const value = studentSelect.value;
                    totalAmount.value = expectedAmounts[value] || "";
                    calculateBalance();
                });

                paidAmount.addEventListener("input", calculateBalance);

                function calculateBalance() {
                    const total = parseInt(totalAmount.value || 0);
                    const paid = parseInt(paidAmount.value || 0);
                    const remaining = total - paid;
                    balance.value = `sh. ${remaining < 0 ? 0 : remaining.toLocaleString()}`;
                }

                paymentMethod.addEventListener("change", () => {
                    const method = paymentMethod.value;
                    transactionIdGroup.style.display = method === "Cash" ? "none" : "block";
                });

                document.getElementById("paymentForm").addEventListener("submit", function (e) {
                    e.preventDefault();
                    alert("âœ… Payment saved successfully!");
                    // Submit logic or API call here
                });
            </script>


            <!-- Almanac Tab -->
            <div id="almanac" class="tab-content p-4">
                <div class="d-flex justify-content-between mb-3">
                    <div>
                        <select id="filterType" class="form-select form-select-sm">
                            <option value="all">All Events</option>
                            <option value="term">Term Events</option>
                            <option value="exam">Exams</option>
                            <option value="holiday">Holidays</option>
                            <option value="meeting">Meetings</option>
                            <option value="event">Events</option>
                        </select>
                    </div>
                    <button onclick="window.print()" class="btn btn-sm btn-outline-secondary">ðŸ–¨ï¸ Print / Export
                        PDF</button>
                </div>

                <div class="card shadow-sm">
                    <div class="card-header bg-primary text-white">
                        <h4 class="mb-0">ðŸ“˜ School Almanac - Academic Year 2025</h4>
                    </div>
                    <div class="card-body">
                        <div class="legend mb-3">
                            <span class="badge bg-success">Term</span>
                            <span class="badge bg-warning text-dark">Exam</span>
                            <span class="badge bg-info">Holiday</span>
                            <span class="badge bg-dark">Meeting</span>
                            <span class="badge bg-secondary">Events</span>
                        </div>

                        <div class="timeline" id="timeline">
                            <!-- Example Event (add all others in similar format with data attributes) -->
                            <div class="timeline-item" data-type="term" data-date="2025-01-08"
                                title="Term 1 begins with orientation sessions.">
                                <div class="timeline-icon bg-success text-white">ðŸ“…</div>
                                <div class="timeline-content">
                                    <h6 class="mb-1 fw-bold">Term 1 Starts</h6>
                                    <p class="text-muted">Monday, January 8</p>
                                </div>
                            </div>

                            <div class="timeline-item" data-type="exam" data-date="2025-02-20"
                                title="Mid-term exams for all classes.">
                                <div class="timeline-icon bg-warning text-dark">ðŸ“</div>
                                <div class="timeline-content">
                                    <h6 class="mb-1 fw-bold">Mid-Term Exam</h6>
                                    <p class="text-muted">Tuesday, February 20</p>
                                </div>
                            </div>

                            <div class="timeline-item" data-type="holiday" data-date="2025-03-10"
                                title="One-month break for Ramadhan.">
                                <div class="timeline-icon bg-info text-white">ðŸ•Œ</div>
                                <div class="timeline-content">
                                    <h6 class="mb-1 fw-bold">Ramadhan Break</h6>
                                    <p class="text-muted">March 10 â€“ April 10</p>
                                </div>
                            </div>

                            <div class="timeline-item" data-type="exam" data-date="2025-04-25"
                                title="End of term exams.">
                                <div class="timeline-icon bg-danger text-white">ðŸ“˜</div>
                                <div class="timeline-content">
                                    <h6 class="mb-1 fw-bold">End-Term Exam</h6>
                                    <p class="text-muted">Monday, April 25</p>
                                </div>
                            </div>

                            <!-- Add more events with data-type and data-date -->
                        </div>
                    </div>
                </div>
            </div>

            <style>
                .timeline {
                    position: relative;
                    margin-left: 1rem;
                }

                .timeline::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 20px;
                    width: 4px;
                    height: 100%;
                    background: #dee2e6;
                }

                .timeline-item {
                    position: relative;
                    margin-bottom: 2rem;
                    padding-left: 3rem;
                    transition: all 0.3s ease;
                }

                .timeline-icon {
                    position: absolute;
                    left: -8px;
                    top: 0;
                    width: 32px;
                    height: 32px;
                    border-radius: 50%;
                    font-size: 1.2rem;
                    text-align: center;
                    line-height: 32px;
                }

                .timeline-content {
                    background: #f8f9fa;
                    padding: 0.75rem 1rem;
                    border-radius: 0.5rem;
                    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
                }

                .timeline-item.today {
                    border-left: 4px solid #0d6efd;
                    background-color: #e9f5ff;
                }

                .legend .badge {
                    margin-right: 8px;
                    font-size: 0.85rem;
                }

                @media print {

                    #filterType,
                    .btn,
                    .legend {
                        display: none !important;
                    }

                    .timeline-item {
                        page-break-inside: avoid;
                    }
                }
            </style>

            <script>
                document.addEventListener("DOMContentLoaded", function () {
                    const filter = document.getElementById("filterType");
                    const items = document.querySelectorAll(".timeline-item");
                    const today = new Date();

                    // Highlight today's or upcoming event
                    let upcomingFound = false;
                    items.forEach(item => {
                        const dateAttr = item.getAttribute("data-date");
                        if (!dateAttr || upcomingFound) return;

                        const eventDate = new Date(dateAttr);
                        if (eventDate >= today) {
                            item.classList.add("today");
                            upcomingFound = true;
                        }
                    });

                    // Filter functionality
                    filter.addEventListener("change", () => {
                        const selected = filter.value;
                        items.forEach(item => {
                            const type = item.getAttribute("data-type");
                            item.style.display = (selected === "all" || selected === type) ? "block" : "none";
                        });
                    });

                    // Add tooltip support (native)
                    items.forEach(item => {
                        if (item.title) {
                            item.setAttribute("data-bs-toggle", "tooltip");
                        }
                    });
                });
            </script>



            <!-- Curriculum Tab -->
            <div id="curriculum" class="tab-content p-4">
                <div class="card shadow-sm">
                    <!-- Header -->
                    <div class="card-header bg-success text-white d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">ðŸ“š School Curriculum</h4>
                        <span class="badge bg-light text-dark">Updated: May 2025</span>
                    </div>

                    <!-- Curriculum Subjects -->
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <!-- Repeatable Subject Template -->
                            <li class="list-group-item d-flex align-items-start">
                                <span class="badge bg-primary me-3 fs-5">ðŸ“–</span>
                                <div class="flex-grow-1">
                                    <h6 class="mb-0 fw-semibold">Fiqh</h6>
                                    <small class="text-muted">Imam Shafiâ€™i Curriculum</small><br>
                                    <small class="text-success">Level: Intermediate</small>
                                    <!-- Progress Bar -->
                                    <div class="progress mt-2" style="height: 6px;">
                                        <div class="progress-bar bg-primary" style="width: 65%;"></div>
                                    </div>
                                </div>
                                <span class="ms-2 badge bg-secondary">3 Lessons/week</span>
                            </li>

                            <li class="list-group-item d-flex align-items-start">
                                <span class="badge bg-warning me-3 fs-5">ðŸ“œ</span>
                                <div class="flex-grow-1">
                                    <h6 class="mb-0 fw-semibold">Quran</h6>
                                    <small class="text-muted">Hafs 'an 'Asim (with Tajweed)</small><br>
                                    <small class="text-success">Includes Memorization</small>
                                    <div class="progress mt-2" style="height: 6px;">
                                        <div class="progress-bar bg-warning" style="width: 80%;"></div>
                                    </div>
                                </div>
                                <span class="ms-2 badge bg-secondary">Daily</span>
                            </li>

                            <li class="list-group-item d-flex align-items-start">
                                <span class="badge bg-info me-3 fs-5">ðŸ“</span>
                                <div class="flex-grow-1">
                                    <h6 class="mb-0 fw-semibold">Arabic Language</h6>
                                    <small class="text-muted">Madinah Books Series</small><br>
                                    <small class="text-success">Grammar + Conversation Focus</small>
                                    <div class="progress mt-2" style="height: 6px;">
                                        <div class="progress-bar bg-info" style="width: 45%;"></div>
                                    </div>
                                </div>
                                <span class="ms-2 badge bg-secondary">4 Lessons/week</span>
                            </li>

                            <!-- Add more subjects like Hadith, Aqeedah similarly -->
                        </ul>

                        <!-- Term Goals & Learning Outcomes -->
                        <div class="mt-4">
                            <h6 class="fw-semibold">ðŸŽ¯ Term Goals & Learning Outcomes</h6>
                            <ul>
                                <li>Students should be able to explain basic Fiqh rulings with evidence.</li>
                                <li>Recite Juz Amma fluently with Tajweed rules.</li>
                                <li>Read, write, and converse in beginner Arabic.</li>
                                <li>Memorize 20 Hadith with understanding.</li>
                            </ul>
                        </div>

                        <!-- Weekly Timetable -->
                        <div class="mt-4">
                            <h6 class="fw-semibold">ðŸ“… Weekly Timetable</h6>
                            <table class="table table-bordered table-sm text-center">
                                <thead class="table-light">
                                    <tr>
                                        <th>Day</th>
                                        <th>8â€“9 AM</th>
                                        <th>9â€“10 AM</th>
                                        <th>10â€“11 AM</th>
                                        <th>11â€“12 PM</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Monday</td>
                                        <td>Quran</td>
                                        <td>Fiqh</td>
                                        <td>Arabic</td>
                                        <td>Hadith</td>
                                    </tr>
                                    <tr>
                                        <td>Tuesday</td>
                                        <td>Quran</td>
                                        <td>Aqeedah</td>
                                        <td>Arabic</td>
                                        <td>Revision</td>
                                    </tr>
                                    <!-- More days as needed -->
                                </tbody>
                            </table>
                        </div>

                        <!-- Parent View Notes -->
                        <div class="mt-4">
                            <h6 class="fw-semibold">ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ Parent Support Tips</h6>
                            <ul>
                                <li>Review Quran memorization at home daily.</li>
                                <li>Encourage children to speak Arabic during meal times.</li>
                                <li>Read a short Hadith together and discuss its meaning weekly.</li>
                                <li>Ensure homework and assessments are done on time.</li>
                            </ul>
                        </div>

                        <!-- Curriculum Pie Chart -->
                        <div class="mt-4">
                            <h6 class="fw-semibold">ðŸ“Š Curriculum Overview</h6>
                            <canvas id="curriculumChart" height="200"></canvas>
                        </div>

                        <!-- Download Curriculum PDF -->
                        <div class="mt-4 text-end">
                            <a href="curriculum.pdf" class="btn btn-outline-success btn-sm" download>
                                â¬‡ï¸ Download Full Curriculum (PDF)
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
            <script>
                const ctx = document.getElementById('curriculumChart').getContext('2d');
                new Chart(ctx, {
                    type: 'pie',
                    data: {
                        labels: ['Quran', 'Fiqh', 'Arabic', 'Hadith', 'Aqeedah'],
                        datasets: [{
                            data: [30, 20, 25, 15, 10],
                            backgroundColor: ['#f6c23e', '#4e73df', '#36b9cc', '#1cc88a', '#e74a3b']
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                position: 'bottom'
                            },
                            title: {
                                display: true,
                                text: 'Subject Time Allocation (%)'
                            }
                        }
                    }
                });
            </script>


            <!-- Results Tab -->
            <div id="results" class="tab-content p-4">
                <div class="card shadow-sm border-0">
                    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">ðŸ“Š Results History</h4>
                        <button class="btn btn-light btn-sm">
                            <i class="bi bi-download"></i> Export PDF
                        </button>
                    </div>
                    <div class="card-body">
                        <!-- Filter Option -->
                        <div class="mb-3 d-flex justify-content-end">
                            <select class="form-select w-auto" aria-label="Filter by Year">
                                <option selected>Filter by Year</option>
                                <option value="2023">2023</option>
                                <option value="2022">2022</option>
                            </select>
                        </div>

                        <div class="list-group">
                            <!-- Example Item -->
                            <div class="list-group-item d-flex justify-content-between align-items-start">
                                <div>
                                    <h6 class="mb-1">Academic Year: <strong>2023</strong></h6>
                                    <small class="text-muted">Improved Overall Results</small>
                                    <ul class="mb-0 mt-1 small">
                                        <li>Top Student: <strong>Fatima Yusuf</strong></li>
                                        <li>Subjects Passed: <strong>13 / 14</strong></li>
                                        <li>Average Grade: <strong>B+</strong></li>
                                    </ul>
                                </div>
                                <div class="text-end">
                                    <span class="badge bg-success fs-6 mb-2">92% Pass</span><br>
                                    <button class="btn btn-outline-primary btn-sm">View Details</button>
                                </div>
                            </div>

                            <div class="list-group-item d-flex justify-content-between align-items-start">
                                <div>
                                    <h6 class="mb-1">Academic Year: <strong>2022</strong></h6>
                                    <small class="text-muted">Performance Overview</small>
                                    <ul class="mb-0 mt-1 small">
                                        <li>Top Student: <strong>Abdul Karim</strong></li>
                                        <li>Subjects Passed: <strong>11 / 14</strong></li>
                                        <li>Average Grade: <strong>B</strong></li>
                                    </ul>
                                </div>
                                <div class="text-end">
                                    <span class="badge bg-warning fs-6 mb-2">85% Pass</span><br>
                                    <button class="btn btn-outline-primary btn-sm">View Details</button>
                                </div>
                            </div>
                        </div>

                        <!-- Pagination -->
                        <nav class="mt-4">
                            <ul class="pagination justify-content-center">
                                <li class="page-item disabled"><a class="page-link">Previous</a></li>
                                <li class="page-item active"><a class="page-link">1</a></li>
                                <li class="page-item"><a class="page-link">2</a></li>
                                <li class="page-item"><a class="page-link">Next</a></li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>



            <!-- Services Tab -->
            <div id="services" class="tab-content p-4">
                <div class="row row-cols-1 row-cols-md-3 g-4">

                    <!-- Card: Student Transport -->
                    <div class="col">
                        <div class="card h-100 shadow-sm border-0">
                            <img src="https://images.pexels.com/photos/1224759/pexels-photo-1224759.jpeg?auto=compress&cs=tinysrgb&w=600" class="card-img-top" alt="Student Transport">
                            <div class="card-body">
                                <h5 class="card-title"><i class="fas fa-bus-alt me-2 text-primary"></i>Student Transport
                                </h5>
                                <p class="card-text">Safe and timely transportation to all local districts.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Card: Islamic Library -->
                    <div class="col">
                        <div class="card h-100 shadow-sm border-0">
                            <img src="images/IMG-20250603-WA0013.jpg" class="card-img-top" alt="Islamic Library">
                            <div class="card-body">
                                <h5 class="card-title"><i class="fas fa-book-quran me-2 text-primary"></i>Islamic
                                    Library</h5>
                                <p class="card-text">Access over 2,000 curated Islamic books for learning and research.
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Card: On-Campus Meals -->
                    <div class="col">
                        <div class="card h-100 shadow-sm border-0">
                            <img src="images/IMG-20250603-WA0007.jpg" class="card-img-top" alt="On-Campus Meals">
                            <div class="card-body">
                                <h5 class="card-title"><i class="fas fa-utensils me-2 text-primary"></i>On-Campus Meals
                                </h5>
                                <p class="card-text">Nutritious halal meals prepared daily for students and staff.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Card: Health Services -->
                    <div class="col">
                        <div class="card h-100 shadow-sm border-0">
                            <img src="images/IMG-20250603-WA0011.jpg" class="card-img-top" alt="Health Services">
                            <div class="card-body">
                                <h5 class="card-title"><i class="fas fa-clinic-medical me-2 text-primary"></i>Health
                                    Services</h5>
                                <p class="card-text">On-site nurse and first-aid support for minor illnesses and
                                    emergencies.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Card: ICT Laboratory -->
                    <div class="col">
                        <div class="card h-100 shadow-sm border-0">
                            <img src="images/IMG-20250603-WA0019.jpg" class="card-img-top" alt="ICT Laboratory">
                            <div class="card-body">
                                <h5 class="card-title"><i class="fas fa-desktop me-2 text-primary"></i>ICT Laboratory
                                </h5>
                                <p class="card-text">Modern computer labs to enhance digital literacy and research
                                    skills.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Card: Counseling Services -->
                    <!-- <div class="col">
                        <div class="card h-100 shadow-sm border-0">
                            <img src="images/counseling.jpg" class="card-img-top" alt="Counseling Services">
                            <div class="card-body">
                                <h5 class="card-title"><i class="fas fa-user-headset me-2 text-primary"></i>Counseling
                                    Services</h5>
                                <p class="card-text">Personal, academic, and spiritual guidance for students' wellbeing.
                                </p>
                            </div>
                        </div>
                    </div> -->

                    <!-- Card: Sports & Recreation -->
                    <div class="col">
                        <div class="card h-100 shadow-sm border-0">
                            <img src="https://images.pexels.com/photos/16622397/pexels-photo-16622397/free-photo-of-athletics-track-around-football-pitch.jpeg?auto=compress&cs=tinysrgb&w=600" class="card-img-top" alt="Sports & Recreation">
                            <div class="card-body">
                                <h5 class="card-title"><i class="fas fa-futbol me-2 text-primary"></i>Sports &
                                    Recreation</h5>
                                <p class="card-text">Facilities and programs that support physical health and team
                                    spirit.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Card: Online Learning -->
                    <!-- <div class="col">
                        <div class="card h-100 shadow-sm border-0">
                            <img src="images/online-learning.jpg" class="card-img-top" alt="Online Learning">
                            <div class="card-body">
                                <h5 class="card-title"><i class="fas fa-globe me-2 text-primary"></i>Online Learning
                                </h5>
                                <p class="card-text">Access recorded lessons, assignments, and learning materials
                                    online.</p>
                            </div>
                        </div>
                    </div> -->

                    <!-- Card: Parent Communication -->
                    <!-- <div class="col">
                        <div class="card h-100 shadow-sm border-0">
                            <img src="images/communication.jpg" class="card-img-top" alt="Parent Communication">
                            <div class="card-body">
                                <h5 class="card-title"><i class="fas fa-mobile-alt me-2 text-primary"></i>Parent
                                    Communication</h5>
                                <p class="card-text">SMS and app alerts for attendance, performance, and school events.
                                </p>
                            </div>
                        </div>
                    </div> -->

                </div>
            </div>

            <!-- Font Awesome -->
            <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">


            <!-- Lessons Tab -->
            <!-- Modal -->
            <div class="modal fade" id="commentsModal" tabindex="-1" aria-labelledby="commentsModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header bg-success text-white">
                            <h5 class="modal-title" id="commentsModalLabel">ðŸ’¬ Comments</h5>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <!-- Existing Comments -->
                            <div class="mb-3">
                                <strong>Ali:</strong>
                                <p class="mb-1">Great explanation on Surah Al-Fatihah!</p>
                                <small class="text-muted">Posted on May 11</small>
                                <hr>
                                <strong>Sara:</strong>
                                <p class="mb-1">Loved the clarity on each verse.</p>
                                <small class="text-muted">Posted on May 12</small>
                            </div>

                            <!-- Add Comment -->
                            <div>
                                <label for="commentText" class="form-label">Add a comment:</label>
                                <textarea class="form-control" id="commentText" rows="2"
                                    placeholder="Write your thoughts..."></textarea>
                                <button class="btn btn-success btn-sm mt-2 float-end">Submit</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Online Lessons Section -->
            <div id="lessons" class="tab-content p-4">
                <div class="card shadow-sm border-0">
                    <div class="card-header bg-success text-white d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">ðŸ“º Online Lessons</h4>
                        <button class="btn btn-light btn-sm" onclick="toggleLessonFilter()">ðŸ” Filter</button>
                    </div>
                    <div class="card-body">
                        <p class="text-muted">Access recorded lessons for continuous learning:</p>

                        <!-- Filter Section -->
                        <div id="lessonFilter" class="mb-3 d-none">
                            <input type="text" class="form-control mb-2" placeholder="Search by topic or title...">
                            <select class="form-select">
                                <option selected disabled>Filter by Subject</option>
                                <option>Quran</option>
                                <option>Arabic</option>
                                <option>Fiqh</option>
                            </select>
                        </div>

                        <!-- Lessons List -->
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                                <div class="d-flex justify-content-between align-items-start">
                                    <div>
                                        <strong>ðŸ“– Quran Lesson 1</strong><br>
                                        <small class="text-muted">Surah Al-Fatihah | Beginner</small><br>
                                        <span class="badge bg-success mt-1">Completed</span>
                                    </div>
                                    <div class="text-end">
                                        <a href="https://youtu.be/sample" target="_blank"
                                            class="btn btn-outline-success btn-sm mb-1">â–¶ï¸ Watch</a>
                                        <button class="btn btn-outline-secondary btn-sm">ðŸ“¥ Download</button>
                                    </div>
                                </div>

                                <!-- Progress & Details -->
                                <div class="mt-2 text-muted small">
                                    â± Duration: 12 min &nbsp; | &nbsp; ðŸ“… Uploaded: May 10, 2025<br>
                                    â­â­â­â­â˜† (4.2) Â· <a href="#" data-bs-toggle="modal" data-bs-target="#commentsModal">12
                                        Comments</a>
                                </div>

                                <!-- Progress Bar -->
                                <div class="progress mt-2" style="height: 6px;">
                                    <div class="progress-bar bg-success" style="width: 100%;"></div>
                                </div>
                            </li>

                            <li class="list-group-item">
                                <div class="d-flex justify-content-between align-items-start">
                                    <div>
                                        <strong>ðŸ—£ï¸ Arabic Grammar</strong><br>
                                        <small class="text-muted">Arabic Verb Forms | Intermediate</small><br>
                                        <span class="badge bg-warning text-dark mt-1">In Progress</span>
                                    </div>
                                    <div class="text-end">
                                        <a href="https://youtu.be/sample" target="_blank"
                                            class="btn btn-outline-success btn-sm mb-1">â–¶ï¸ Watch</a>
                                        <button class="btn btn-outline-secondary btn-sm">ðŸ“¥ Download</button>
                                    </div>
                                </div>

                                <!-- Progress & Details -->
                                <div class="mt-2 text-muted small">
                                    â± Duration: 18 min &nbsp; | &nbsp; ðŸ“… Uploaded: April 28, 2025<br>
                                    â­â­â­â˜†â˜† (3.7) Â· <a href="#" data-bs-toggle="modal" data-bs-target="#commentsModal">5
                                        Comments</a>
                                </div>

                                <!-- Progress Bar -->
                                <div class="progress mt-2" style="height: 6px;">
                                    <div class="progress-bar bg-warning" style="width: 60%;"></div>
                                </div>
                            </li>
                        </ul>

                        <!-- Pagination -->
                        <nav class="mt-4">
                            <ul class="pagination justify-content-center">
                                <li class="page-item disabled"><a class="page-link">Previous</a></li>
                                <li class="page-item active"><a class="page-link">1</a></li>
                                <li class="page-item"><a class="page-link">2</a></li>
                                <li class="page-item"><a class="page-link">Next</a></li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>

            <script>
                function toggleLessonFilter() {
                    document.getElementById("lessonFilter").classList.toggle("d-none");
                }
            </script>


            <!-- Video Lessons Tab -->
            <style>
                #videos .list-group-item img {
                    width: 60px;
                    height: 40px;
                    object-fit: cover;
                    margin-right: 15px;
                    border-radius: 5px;
                }

                #videos .list-group-item>div.flex-grow-1 p {
                    margin-bottom: 0;
                    font-size: 0.9rem;
                    color: #555;
                    cursor: help;
                }
            </style>
            </head>

            <body>

                <div id="videos" class="tab-content p-4">
                    <div class="card shadow-sm border-0">
                        <div class="card-header bg-primary text-white">
                            <h4 class="mb-0">ðŸŽ¥ Upload Video Lesson</h4>
                        </div>
                        <div class="card-body">

                            <!-- Upload Form -->
                            <form id="uploadForm" onsubmit="uploadVideo(event)">
                                <div class="row g-3 mb-3">

                                    <div class="col-md-4">
                                        <label for="videoTitle" class="form-label">Video Title</label>
                                        <input type="text" class="form-control" id="videoTitle"
                                            placeholder="e.g. Fiqh of Salah" required />
                                    </div>

                                    <div class="col-md-4">
                                        <label for="videoFile" class="form-label">Upload Video</label>
                                        <input type="file" class="form-control" id="videoFile" accept="video/*"
                                            required />
                                    </div>

                                    <div class="col-md-4">
                                        <label for="subject" class="form-label">Subject</label>
                                        <input type="text" class="form-control" id="subject" placeholder="e.g. Fiqh"
                                            required />
                                    </div>

                                    <div class="col-md-4">
                                        <label for="videoDuration" class="form-label">Duration (mins)</label>
                                        <input type="number" id="videoDuration" class="form-control" min="1" max="180"
                                            placeholder="e.g. 12" required />
                                    </div>

                                    <div class="col-md-4">
                                        <label for="videoLevel" class="form-label">Level</label>
                                        <select id="videoLevel" class="form-select" required>
                                            <option value="">Select level</option>
                                            <option value="beginner">Beginner</option>
                                            <option value="intermediate">Intermediate</option>
                                            <option value="advanced">Advanced</option>
                                        </select>
                                    </div>

                                    <div class="col-md-4">
                                        <label for="videoThumbnail" class="form-label">Upload Thumbnail</label>
                                        <input type="file" id="videoThumbnail" class="form-control" accept="image/*" />
                                    </div>

                                    <div class="col-12">
                                        <label for="videoDescription" class="form-label">Video Description</label>
                                        <textarea id="videoDescription" class="form-control" rows="3"
                                            placeholder="Brief description of the lesson..." required></textarea>
                                    </div>

                                </div>

                                <button type="submit" class="btn btn-success">Upload Video</button>
                            </form>

                            <!-- Upload Progress -->
                            <div class="mb-3 mt-3" id="uploadProgressContainer" style="display:none;">
                                <label class="form-label">Uploading Progress</label>
                                <div class="progress">
                                    <div id="uploadProgressBar" class="progress-bar" role="progressbar"
                                        style="width: 0%;">0%</div>
                                </div>
                            </div>

                            <hr class="my-4" />

                            <!-- Search & Filter -->
                            <div class="mb-3 d-flex gap-2 flex-wrap">
                                <input type="search" id="searchVideos" class="form-control"
                                    placeholder="Search videos..." style="min-width: 200px;" oninput="filterVideos()" />
                                <select id="filterLevel" class="form-select" style="max-width: 150px;"
                                    onchange="filterVideos()">
                                    <option value="">All Levels</option>
                                    <option value="beginner">Beginner</option>
                                    <option value="intermediate">Intermediate</option>
                                    <option value="advanced">Advanced</option>
                                </select>
                            </div>

                            <!-- Uploaded Videos List -->
                            <div>
                                <h6><strong>ðŸ“º Uploaded Videos</strong></h6>
                                <ul id="videoList" class="list-group">
                                    <!-- Example video item -->
                                    <li class="list-group-item d-flex align-items-center" data-title="Fiqh of Salah"
                                        data-level="beginner">
                                        <img src="https://via.placeholder.com/60x40.png?text=Fiqh" alt="Thumbnail" />
                                        <div class="flex-grow-1">
                                            <strong>Fiqh of Salah</strong><br />
                                            <small class="text-muted">12 mins â€¢ Uploaded on 2025-05-30</small>
                                            <p
                                                title="A detailed explanation on Fiqh of Salah, including rulings and practical examples.">
                                                A detailed explanation on Fiqh of Salah, including rulings and practical
                                                examples.</p>
                                        </div>
                                        <div class="btn-group btn-group-sm" role="group" aria-label="Actions">
                                            <a href="#" class="btn btn-outline-primary">Watch</a>
                                            <button class="btn btn-outline-secondary"
                                                onclick="editVideo(event, this)">Edit</button>
                                            <button class="btn btn-outline-danger"
                                                onclick="deleteVideo(event, this)">Delete</button>
                                        </div>
                                    </li>
                                    <!-- More videos can be appended here dynamically -->
                                </ul>
                            </div>

                        </div>
                    </div>
                </div>

                <script>
                    // Simulate upload progress and add new video to the list
                    function uploadVideo(event) {
                        event.preventDefault();

                        // Get form fields
                        const title = document.getElementById('videoTitle').value.trim();
                        const subject = document.getElementById('subject').value.trim();
                        const duration = document.getElementById('videoDuration').value.trim();
                        const level = document.getElementById('videoLevel').value;
                        const description = document.getElementById('videoDescription').value.trim();

                        // Get thumbnail image preview URL (if uploaded)
                        const thumbnailInput = document.getElementById('videoThumbnail');
                        let thumbnailURL = 'https://images.pexels.com/photos/318451/pexels-photo-318451.jpeg?auto=compress&cs=tinysrgb&w=600';
                        if (thumbnailInput.files && thumbnailInput.files[0]) {
                            thumbnailURL = URL.createObjectURL(thumbnailInput.files[0]);
                        }

                        // Show progress bar
                        const progressContainer = document.getElementById('uploadProgressContainer');
                        const progressBar = document.getElementById('uploadProgressBar');
                        progressContainer.style.display = 'block';
                        progressBar.style.width = '0%';
                        progressBar.textContent = '0%';

                        // Simulate upload progress (fake)
                        let progress = 0;
                        const interval = setInterval(() => {
                            progress += 10;
                            progressBar.style.width = progress + '%';
                            progressBar.textContent = progress + '%';

                            if (progress >= 100) {
                                clearInterval(interval);
                                progressContainer.style.display = 'none';

                                // Add new video to the list
                                addVideoToList({ title, subject, duration, level, description, thumbnailURL });

                                // Reset form and revoke thumbnail URL
                                document.getElementById('uploadForm').reset();
                                if (thumbnailURL.startsWith('blob:')) {
                                    URL.revokeObjectURL(thumbnailURL);
                                }
                            }
                        }, 200);
                    }

                    function addVideoToList(video) {
                        const videoList = document.getElementById('videoList');

                        const li = document.createElement('li');
                        li.className = 'list-group-item d-flex align-items-center';
                        li.setAttribute('data-title', video.title.toLowerCase());
                        li.setAttribute('data-level', video.level);

                        li.innerHTML = `
      <img src="${video.thumbnailURL}" alt="Thumbnail" />
      <div class="flex-grow-1">
        <strong>${video.title}</strong><br />
        <small class="text-muted">${video.duration} mins â€¢ Uploaded on ${new Date().toISOString().split('T')[0]}</small>
        <p title="${video.description}">${video.description}</p>
      </div>
      <div class="btn-group btn-group-sm" role="group" aria-label="Actions">
        <a href="#" class="btn btn-outline-primary">Watch</a>
        <button class="btn btn-outline-secondary" onclick="editVideo(event, this)">Edit</button>
        <button class="btn btn-outline-danger" onclick="deleteVideo(event, this)">Delete</button>
      </div>
    `;
                        videoList.prepend(li);
                    }

                    // Filter videos based on search and level
                    function filterVideos() {
                        const searchTerm = document.getElementById('searchVideos').value.toLowerCase();
                        const levelFilter = document.getElementById('filterLevel').value;
                        const videoList = document.getElementById('videoList');
                        const items = videoList.querySelectorAll('li');

                        items.forEach(item => {
                            const title = item.getAttribute('data-title');
                            const level = item.getAttribute('data-level');

                            const matchesSearch = title.includes(searchTerm);
                            const matchesLevel = !levelFilter || level === levelFilter;

                            item.style.display = matchesSearch && matchesLevel ? '' : 'none';
                        });
                    }

                    // Placeholder functions for edit/delete buttons
                    function editVideo(event, btn) {
                        event.preventDefault();
                        alert('Edit feature is not implemented in this demo.');
                    }

                    function deleteVideo(event, btn) {
                        event.preventDefault();
                        if (confirm('Are you sure you want to delete this video?')) {
                            const li = btn.closest('li');
                            li.remove();
                        }
                    }
                </script>


                <!-- Live Classes Tab.-->
                <div id="live" class="tab-content p-4">
                    <div class="card shadow-sm border-0">
                        <div class="card-header bg-danger text-white">
                            <h4 class="mb-0">ðŸ“¡ Live Video Classes</h4>
                        </div>
                        <div class="card-body">
                            <form onsubmit="startClass(); return false;">
                                <div class="mb-3">
                                    <label for="liveLink" class="form-label">Live Class Link</label>
                                    <input type="url" class="form-control" id="liveLink"
                                        placeholder="https://meet.jit.si/maahad-fiqh-001" required />
                                </div>
                                <button type="submit" class="btn btn-primary">Start Live Class</button>
                            </form>

                            <hr class="my-4" />

                            <div>
                                <h6><strong>ðŸ“… Upcoming Classes</strong></h6>
                                <ul class="list-group">
                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                        <div>
                                            <strong>ðŸ”´ Arabic Grammar</strong><br />
                                            <small class="text-muted">Today at 11:00 AM</small>
                                        </div>
                                        <a href="https://meet.jit.si/arabic-class" target="_blank"
                                            class="btn btn-outline-success btn-sm">Join</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- Alert Modal -->
                <div class="modal" id="alertModal">
                    <div class="modal-content">
                        <p id="alertMessage"></p>
                        <button class="btn" onclick="closeModal()">OK</button>
                    </div>
                </div>

                <script>
                    function showTab(tabId) {
                        document.querySelectorAll(".tab-button").forEach(btn => btn.classList.remove("active"));
                        document.querySelectorAll(".tab-content").forEach(tab => tab.classList.remove("active"));
                        document.querySelector(`[onclick="showTab('${tabId}')"]`).classList.add("active");
                        document.getElementById(tabId).classList.add("active");
                    }

                    function uploadVideo() {
                        const title = document.getElementById("videoTitle").value;
                        if (title) {
                            showAlert("Video '" + title + "' uploaded successfully.");
                        } else {
                            showAlert("Please enter a video title.");
                        }
                    }

                    function startClass() {
                        const link = document.getElementById("liveLink").value;
                        if (link) {
                            window.open(link, '_blank');
                        } else {
                            showAlert("Enter a valid live class link.");
                        }
                    }

                    function showAlert(message) {
                        document.getElementById("alertMessage").innerText = message;
                        document.getElementById("alertModal").style.display = "block";
                    }

                    function closeModal() {
                        document.getElementById("alertModal").style.display = "none";
                    }
                </script>

            </body>

</html>